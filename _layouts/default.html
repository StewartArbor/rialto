<!DOCTYPE html>
<html lang="{{ page.lang | default: 'en' }}">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }}</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">


 <link rel="stylesheet" href="{{ '/style.css?v=3' | relative_url }}">


  {% if page.url contains "/en/" or page.url contains "/ru/" or page.url contains "/kz/" %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "{{ page.title | escape }}",
    "itemListElement": [
      {% assign items = site.data.items | where: "active", true %}
      {% if page.cat %}{% assign items = items | where: "category", page.cat %}{% endif %}
      {% assign items = items | sort: "added" | reverse %}
      {% for item in items limit: 20 %}
      {
        "@type": "ListItem",
        "position": {{ forloop.index }},
        "url": "{{ item.link }}",
        "name": "{{ item.title[page.lang] | default: item.title.en | escape }}",
        "image": "{{ item.image }}"
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  }
  </script>
  {% endif %}
</head>

<body>

<header class="site-header">
  <div class="header-inner">

    <div class="brand">
      <a href="/{{ page.lang }}/">RIALTO</a>
    </div>

    <div class="controls">
      <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
        <span class="theme-label">Dark</span>
      </button>

      <nav class="lang-switch">

  {% assign parts = page.url | split: '/' %}
  {% assign path = parts | slice: 2, parts.size | join: '/' %}

  <a href="/en/{{ path }}"
     class="{% if page.lang == 'en' %}active{% endif %}">
    EN
  </a>

  <a href="/ru/{{ path }}"
     class="{% if page.lang == 'ru' %}active{% endif %}">
    RU
  </a>

  <a href="/kz/{{ path }}"
     class="{% if page.lang == 'kz' %}active{% endif %}">
    KZ
  </a>

</nav>

    </div>

  </div>
</header>



{% if page.url == "/" or page.url contains "/ru/" or page.url contains "/kz/" or page.url contains "/en/" %}
<section class="hero">
  <div class="hero-inner">

    {% case page.lang %}

      {% when "ru" %}
        <h1>Тех-скидки AliExpress</h1>
        <p>Реальные скидки. Без накрутки.</p>

      {% when "kz" %}
        <h1>AliExpress Tech ұсыныстары</h1>
        <p>Нақты жеңілдіктер. Артық баға жоқ.</p>

      {% else %}
        <h1>AliExpress Tech Deals</h1>
        <p>Real discounts. No inflated pricing.</p>

    {% endcase %}

  </div>
</section>
{% endif %}



<!-- FEATURED CAROUSEL -->
<section class="carousel">

  <div class="hero-inner">

    <div class="carousel-track">

      {% assign featured = site.data.items
        | where: "active", true
        | sort: "added"
        | reverse
        | limit: 3 %}

      {% for item in featured %}

      <div class="carousel-slide">

        <img
          src="{{ item.image }}"
          alt="{{ item.title[page.lang] | default: item.title.en }}">

        <div class="carousel-text">

          <h2>
            {{ item.title[page.lang] | default: item.title.en }}
          </h2>

          <p>
            {{ item.desc[page.lang] | default: item.desc.en }}
          </p>

        </div>

      </div>

      {% endfor %}

    </div>

    <button class="carousel-btn prev">‹</button>
    <button class="carousel-btn next">›</button>

  </div>

</section>


<main class="content">
  {{ content }}
</main>


<footer class="site-footer">
  <div class="footer-inner">
    <span>© {{ site.time | date: "%Y" }} Rialto</span>
    <div class="footer-links">
      <a href="/{{ page.lang }}/about/">About</a>
      <a href="/{{ page.lang }}/contact/">Contact</a>
    </div>
  </div>
</footer>

<script>
const track = document.querySelector(".carousel-track");
const slides = document.querySelectorAll(".carousel-slide");
const nextBtn = document.querySelector(".carousel-btn.next");
const prevBtn = document.querySelector(".carousel-btn.prev");

let index = 0;

function updateCarousel() {
  track.style.transform = `translateX(-${index * 100}%)`;
}

nextBtn.addEventListener("click", () => {
  index = (index + 1) % slides.length;
  updateCarousel();
});

prevBtn.addEventListener("click", () => {
  index = (index - 1 + slides.length) % slides.length;
  updateCarousel();
});

setInterval(() => {
  index = (index + 1) % slides.length;
  updateCarousel();
}, 6000);
</script>


</body>
</html>
