<!DOCTYPE html>
<html lang="{{ page.lang }}">
<head>
  <meta charset="UTF-8">

  <title>{{ page.title }} | Rialto Coupons</title>

  <meta name="description"
    content="Latest AliExpress coupons, promo codes, and shopping deals. Updated daily.">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/style.css">
</head>

<body>


<!-- Top Logo Only -->

<div class="top">
  <a href="/" class="logo">Rialto</a>
</div>


<main>
  {{ content }}
</main>


<!-- Footer Navigation + Telegram -->

<footer class="footer">


  <div class="footer-nav">

    <div class="footer-lang">
      <a href="/en/">EN</a>
      <a href="/ru/">RU</a>
      <a href="/kz/">KZ</a>
    </div>

    <div class="footer-menu">
      <a href="/en/aliexpress.html">AliExpress Coupons</a>
      <a href="/en/services.html">Services</a>
      <a href="/about.html">About</a>
      <a href="/contact.html">Contact</a>
    </div>

  </div>


  <a href="https://t.me/rialtokz" target="_blank" rel="noopener">

    {% if page.lang == 'ru' %}
      Присоединяйтесь к нашему Telegram
    {% elsif page.lang == 'kk' %}
      Telegram чатына қосылыңыз
    {% else %}
      Join our Telegram chat
    {% endif %}

  </a>

</footer>


<script>

/* Theme Toggle */

const toggle = document.getElementById('themeToggle');
const root = document.documentElement;

const saved = localStorage.getItem('theme');
if (saved) root.dataset.theme = saved;

if (toggle) {
  toggle.onclick = () => {
    const next = root.dataset.theme === 'dark' ? 'light' : 'dark';
    root.dataset.theme = next;
    localStorage.setItem('theme', next);
  };
}


/* Fake Countdown */

function startFakeTimers() {

  document.querySelectorAll(".timer").forEach(timer => {

    let seconds = 7200 + Math.floor(Math.random() * 4000);

    setInterval(() => {

      seconds--;

      if (seconds < 0) {
        seconds = 7200 + Math.floor(Math.random() * 4000);
      }

      const h = String(Math.floor(seconds / 3600)).padStart(2,'0');
      const m = String(Math.floor((seconds % 3600)/60)).padStart(2,'0');
      const s = String(seconds % 60).padStart(2,'0');

      timer.textContent = `${h}:${m}:${s}`;

    }, 1000);

  });

}

startFakeTimers();


/* Fake Usage Counter */

document.querySelectorAll(".usage-num").forEach(el => {

  let base = 1000 + Math.floor(Math.random() * 800);

  setInterval(() => {
    base += Math.floor(Math.random() * 3);
    el.textContent = base;
  }, 4000);

});


/* Fake Last Updated */

const updateEl = document.getElementById("update-time");

if (updateEl) {

  let minutes = 2 + Math.floor(Math.random() * 5);

  function refreshTime() {

    if (minutes <= 1) {
      updateEl.textContent = "just now";
    } else {
      updateEl.textContent = minutes + " minutes ago";
    }

    minutes = Math.max(1, minutes - 1);
  }

  refreshTime();

  setInterval(() => {
    minutes = 1 + Math.floor(Math.random() * 5);
    refreshTime();
  }, 60000);

}

</script>

</body>
</html>
